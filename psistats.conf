##############################################################################
# Psistats Configuration                                                     #
##############################################################################

# RabbitMQ Server
# 
# The format is a URL:
# amqp://[username]:[password]@[hostname]:[port]/[vhost]
[server]
url=amqp://guest:guest@localhost:5672/%2f

# Enable CPU Temperature reporting
#
# If possible, Psistats will try to fetch the CPU temperature.
# Not all devices can support this. Some devices may only be able to
# report an ambient temperature from a motherboard sensor. Psistats
# will fallback to using this if it can not find the CPU temperature.
#
# If all else fails, the CPU temperature will still not be included
[cpu_temp]
enabled=0

# Enable CPU usage reporting
#
# If enabled, the cpu usage (as a percentage) will be included.
[cpu]
enabled=1

# Enable memory usage reporting
#
# If enabled, the physical memory usuage (As a percentage) will be included.
[mem]
enabled=1

# Enable IP Address reporting
#
# If enabled, all available IP addresses will be reported
[ipaddr]
enabled=1

# Enable Uptime reporting
#
# If enabled, the system uptime (time since last reboot) will be reported
[uptime]
enabled=1

###############################################################################
# Logging Settings                                                            #
#                                                                             #
# All psistats logs use "psistats" as the logging name. Occaisonally it might #
# be useful to enable logging for the pika library to debug issues.           #
###############################################################################
[logging]
keys=root,pika

[handlers]
keys=fileout,stdout

[formatters]
keys=form1

[logger_pika]
level=WARNING
handlers=fileout,stdout
propagate=0
qualname=pika

[logger_root]
level=DEBUG
handlers=stdout
propagate=0
qualname=psistats

[handler_fileout]
class=logging.handlers.TimedRotatingFileHandler
filename=psistats.log
when=midnight
level=DEBUG
formatter=form1

[handler_stdout]
class=logging.StreamHandler
level=DEBUG
formatter=form1
stream=ext://sys.stdout

[formatter_form1]
format=%(asctime)s %(name)s %(levelname)s %(message)s
class=logging.Formatter

 
###############################################################################
# Advanced Settings                                                           #
#                                                                             #
# Change these settings if you know what you are doing!                       #
###############################################################################
# Queue Settings
#
# Configure the RabbitMQ Queue
[queue]
prefix=psistats
exclusive=False
durable=False
autodelete=Yes
ttl=10000

# Exchange Settings
#
# Configure the RabbitMQ Exchange
# All psistats clients MUST HAVE the same exchange settings.
[exchange]
name=psistats
type=topic
durable=False
autodelete=False

# Enable hostname reporting
#
# WARNING: How will you identify which machine is reporting? turning this off
# will probably break display clients as they will rely on hostname as a
# unique identifier.
[hostname]
enabled=True

# Configure the application
#
# primary_timer  : Interval in seconds to report temperature, cpu and and
#                  memory usage
# secondary_timer: Number of primary_timer intervals before reporting utpime
#                  and ip addresses
# retry_timer    : Number of seconds to wait before trying to reconnect to
#                : RabbitMQ after an error
# pidfile        : Location of the pidfile
# pidfile_timeout: Number of seconds to wait for the pidfile to be written
# stdin_path     : Path for stdin stream
# stdout_path    : Path for stdout stream
# stderr_path    : path for stderr stream
[app]
primary_timer=1
secondary_timer=30
retry_timer=5
pidfile=/var/run/psistats.pid
pidfile_timeout=5
stdin_path=/dev/null
stdout_path=/dev/null
stderr_path=/dev/null


